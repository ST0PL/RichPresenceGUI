<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:clib="clr-namespace:ControlsLib.Controls;assembly=ControlsLib"
                    xmlns:props="clr-namespace:ControlsLib.AttachedProperties;assembly=ControlsLib">
    <DataTemplate x:Key="activity_default_template">
        <StackPanel>
            <StackPanel Orientation="Horizontal"
                        Margin="5,5,5,10"
                        VerticalAlignment="Top">
                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                           Text="{Binding ActivityType, Converter={StaticResource enumLocaleConverter}}"
                           FontWeight="SemiBold"/>
            </StackPanel>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid VerticalAlignment="Top">
                    <Border Width="60"
                            Height="60"
                            VerticalAlignment="Top"
                            CornerRadius="10"
                            Margin="5,0,10,0"
                            Background="{DynamicResource VisualTemplateIconBrush}">
                    </Border>
                    <Border Width="30"
                            Height="30"
                            VerticalAlignment="Bottom"
                            HorizontalAlignment="Right"
                            Margin="0,35,5,0"
                            Padding="2"
                            CornerRadius="15"
                            Background="{DynamicResource VisualTemplateColor}">
                        <Image RenderOptions.BitmapScalingMode="HighQuality" Source="/Resources/icons/csharp.png"/>
                    </Border>
                </Grid>
                <StackPanel Grid.Column="1"
                            VerticalAlignment="Center"
                            props:PanelChildrenProperties.Margin="0,3,0,0">
                    <TextBlock Text="{DynamicResource templates_applicationName}"
                               Foreground="{DynamicResource BaseTextColor}"
                               Padding="0"
                               VerticalAlignment="Top"
                               FontWeight="SemiBold"
                               FontSize="15"/>
                    <TextBlock Text="{Binding Details}"
                               Margin="0,5,0,0"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14"/>
                    <TextBlock Text="{Binding State}"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14"/>
                    <StackPanel Orientation="Horizontal">
                        <Image Source="{StaticResource playing}"
                               Height="10"
                               Visibility="{Binding ElementName=interval, Path=Content, Converter={StaticResource nullOrEmptyVisibilityConverter}}"/>
                        <Label Content="{Binding StartTimestamp, Converter={StaticResource timeSpanConverter}}"
                               x:Name="interval"
                               Foreground="#51a764"
                               FontSize="14"
                               Margin="5,0,0,0"
                               FontWeight="SemiBold"
                               Padding="0"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="activity_playingWithParty_template">
        <StackPanel>
            <StackPanel Orientation="Horizontal"
                        Margin="5,5,5,10"
                        VerticalAlignment="Top">
                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                           Text="{Binding ActivityType, Converter={StaticResource enumLocaleConverter}}"
                           FontWeight="SemiBold"/>
            </StackPanel>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid VerticalAlignment="Top">
                    <Border Width="60"
                            Height="60"
                            VerticalAlignment="Top"
                            CornerRadius="10"
                            Margin="5,0,10,0"
                            Background="{DynamicResource VisualTemplateIconBrush}">
                    </Border>
                    <Border Width="30"
                            Height="30"
                            VerticalAlignment="Bottom"
                            HorizontalAlignment="Right"
                            Margin="0,35,5,0"
                            Padding="2"
                            CornerRadius="15"
                            Background="{DynamicResource VisualTemplateColor}">
                        <Image RenderOptions.BitmapScalingMode="HighQuality" Source="/Resources/icons/csharp.png"/>
                    </Border>
                </Grid>
                <StackPanel Grid.Column="1"
                            VerticalAlignment="Center"
                            props:PanelChildrenProperties.Margin="0,3,0,0">
                    <TextBlock Text="{DynamicResource templates_applicationName}"
                               Foreground="{DynamicResource BaseTextColor}"
                               Padding="0"
                               VerticalAlignment="Top"
                               FontWeight="SemiBold"
                               FontSize="15"/>
                    <TextBlock Text="{Binding Details}"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14"/>
                    <WrapPanel Orientation="Horizontal">
                        <StackPanel Orientation="Horizontal"
                                    Margin="0,0,5,0">
                            <Image Source="{StaticResource playing}"
                                   Height="10"
                                   Visibility="{Binding ElementName=interval, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"/>
                            <TextBlock Text="{Binding StartTimestamp, Converter={StaticResource timeSpanConverter}}"
                                       x:Name="interval"
                                       TextTrimming="CharacterEllipsis"
                                       Foreground="#51a764"
                                       FontSize="14"
                                       Margin="5,0,0,0"
                                       FontWeight="SemiBold"
                                       Padding="0"/>    
                        </StackPanel>
                        <Grid VerticalAlignment="Bottom">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Image Source="{StaticResource party}"
                                   Height="10"/>
                            <StackPanel Orientation='Horizontal'
                                        Grid.Column="1">
                                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                                           Text="{Binding State}"
                                           Visibility="{Binding State, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                                           Margin="5,0,0,0"
                                           TextTrimming="CharacterEllipsis"
                                           FontSize="12"
                                           Opacity="0.8"
                                           Padding="0"/>
                                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                                           Margin="5,0,0,0"
                                           TextTrimming="CharacterEllipsis"
                                           FontSize="12"
                                           Opacity="0.8"
                                           Padding="0">
                                    <Run Text="{Binding Party.Size, StringFormat='{}({0}'}"/>
                                    <Run Text="{DynamicResource templates_partyOf}"/>
                                    <Run Text="{Binding Party.Max,StringFormat='{}{0})'}"/>
                                </TextBlock>
                            </StackPanel>
                        </Grid>
                    </WrapPanel>
                </StackPanel>
            </Grid>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="activity_listening_template">
        <StackPanel>
            <StackPanel Orientation="Horizontal"
                        Margin="5,5,5,10"
                        VerticalAlignment="Top">
                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                           Text="{Binding ActivityType, Converter={StaticResource enumLocaleConverter}}"
                           FontWeight="SemiBold"/>
                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                           Text="{DynamicResource templates_applicationName}"
                           FontWeight="SemiBold"
                           Margin="3,0,0,0"
                           Visibility="{Binding Details, Converter={StaticResource nullOrEmptyVisibilityConverter}}"/>
            </StackPanel>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid VerticalAlignment="Top">
                    <Border Width="60"
                            Height="60"
                            VerticalAlignment="Top"
                            CornerRadius="10"
                            Margin="5,0,10,0"
                            Background="{DynamicResource VisualTemplateIconBrush}">
                    </Border>
                    <Border Width="30"
                            Height="30"
                            VerticalAlignment="Bottom"
                            HorizontalAlignment="Right"
                            Margin="0,35,5,0"
                            Padding="2"
                            CornerRadius="15"
                            Background="{DynamicResource VisualTemplateColor}">
                        <Image RenderOptions.BitmapScalingMode="HighQuality" Source="/Resources/icons/csharp.png"/>
                    </Border>
                </Grid>
                <StackPanel Grid.Column="1"
                            VerticalAlignment="Center"
                            props:PanelChildrenProperties.Margin="0,3,0,0">
                    <TextBlock FontWeight="SemiBold"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="15">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Setter Property="Text" Value="{Binding Details}"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Details, Converter={StaticResource isStringEmptyConverter}}"
                                                 Value="True">
                                        <Setter Property="Text" Value="{DynamicResource templates_applicationName}"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <TextBlock Text="{Binding State}"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14"/>
                    <TextBlock Text="{Binding LargeImageText}"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14"/>
                    <StackPanel Orientation="Horizontal">
                        <Image Source="{StaticResource listening}"
                               Height="12"
                               Visibility="{Binding ElementName=interval, Path=Content, Converter={StaticResource nullOrEmptyVisibilityConverter}}"/>
                        <Label Content="{Binding StartTimestamp, Converter={StaticResource timeSpanConverter}}"
                               x:Name="interval"
                               Foreground="#51a764"
                               FontSize="14"
                               Margin="5,0,0,0"
                               FontWeight="SemiBold"
                               Padding="0"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="activity_listeningWithTimeBar_template">
        <StackPanel>
            <StackPanel Orientation="Horizontal"
                        Margin="5,5,5,10"
                        VerticalAlignment="Top">
                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                           Text="{Binding ActivityType, Converter={StaticResource enumLocaleConverter}}"
                           FontWeight="SemiBold"/>
                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                           Text="{DynamicResource templates_applicationName}"
                           FontWeight="SemiBold"
                           Margin="3,0,0,0"
                           Visibility="{Binding Details, Converter={StaticResource nullOrEmptyVisibilityConverter}}"/>
            </StackPanel>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid VerticalAlignment="Top">
                    <Border Width="60"
                            Height="60"
                            VerticalAlignment="Top"
                            CornerRadius="10"
                            Margin="5,0,10,0"
                            Background="{DynamicResource VisualTemplateIconBrush}">
                    </Border>
                    <Border Width="30"
                            Height="30"
                            VerticalAlignment="Bottom"
                            HorizontalAlignment="Right"
                            Margin="0,35,5,0"
                            Padding="2"
                            CornerRadius="15"
                            Background="{DynamicResource VisualTemplateColor}">
                        <Image RenderOptions.BitmapScalingMode="HighQuality" Source="/Resources/icons/csharp.png"/>
                    </Border>
                </Grid>
                <StackPanel Grid.Column="1"
                            VerticalAlignment="Center"
                            props:PanelChildrenProperties.Margin="0,3,0,0">
                    <TextBlock FontWeight="SemiBold"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="15">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Setter Property="Text" Value="{Binding Details}"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Details, Converter={StaticResource isStringEmptyConverter}}"
                                                 Value="True">
                                        <Setter Property="Text" Value="{DynamicResource templates_applicationName}"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <TextBlock Text="{Binding State}"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14"/>
                    <TextBlock Text="{Binding LargeImageText}"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14"/>
                    <clib:TimeProgressBar Margin="0,5,0,0"
                                          Background="Transparent"
                                          Foreground="{DynamicResource BaseTextColor}"
                                          ProgressBarBackground="{DynamicResource ProgressBarBackground}"
                                          ProgressBarForeground="{DynamicResource ProgressBarColor}"
                                          ProgressBarBorderThickness="0"
                                          ProgressBarCornerRadius="2"
                                          ProgressBarHeight="2">
                        <clib:TimeProgressBar.TimeContext>
                            <MultiBinding Converter="{StaticResource multiTimeBarContextConverter}">
                                <Binding Path="StartTimestamp"/>
                                <Binding Path="EndTimestamp"/>
                            </MultiBinding>
                        </clib:TimeProgressBar.TimeContext>
                    </clib:TimeProgressBar>
                </StackPanel>
            </Grid>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="activity_watching_template">
        <StackPanel>
            <StackPanel Orientation="Horizontal"
                        Margin="5,5,5,10"
                        VerticalAlignment="Top">
                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                           Text="{Binding ActivityType, Converter={StaticResource enumLocaleConverter}}"
                           FontWeight="SemiBold"/>
                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                           Text="{DynamicResource templates_applicationName}"
                           FontWeight="SemiBold"
                           Margin="3,0,0,0"
                           Visibility="{Binding Details, Converter={StaticResource nullOrEmptyVisibilityConverter}}"/>
            </StackPanel>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid VerticalAlignment="Top">
                    <Border Width="60"
                            Height="60"
                            VerticalAlignment="Top"
                            CornerRadius="10"
                            Margin="5,0,10,0"
                            Background="{DynamicResource VisualTemplateIconBrush}">
                    </Border>
                    <Border Width="30"
                            Height="30"
                            VerticalAlignment="Bottom"
                            HorizontalAlignment="Right"
                            Margin="0,35,5,0"
                            Padding="2"
                            CornerRadius="15"
                            Background="{DynamicResource VisualTemplateColor}">
                        <Image RenderOptions.BitmapScalingMode="HighQuality" Source="/Resources/icons/csharp.png"/>
                    </Border>
                </Grid>
                <StackPanel Grid.Column="1"
                            VerticalAlignment="Center"
                            props:PanelChildrenProperties.Margin="0,3,0,0">
                    <TextBlock FontWeight="SemiBold"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Setter Property="Text" Value="{Binding Details}"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Details, Converter={StaticResource isStringEmptyConverter}}"
                                                 Value="False">
                                        <Setter Property="Text" Value="{DynamicResource templates_applicationName}"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <TextBlock Text="{Binding State}"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14"/>
                    <StackPanel Orientation="Horizontal">
                        <Image Source="{StaticResource watching}"
                               Height="12"
                               Visibility="{Binding ElementName=interval, Path=Content, Converter={StaticResource nullOrEmptyVisibilityConverter}}"/>
                        <Label Content="{Binding StartTimestamp, Converter={StaticResource timeSpanConverter}}"
                               x:Name="interval"
                               Foreground="#51a764"
                               FontSize="14"
                               Margin="5,0,0,0"
                               FontWeight="SemiBold"
                               Padding="0"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="activity_watchingWithTimeBar_template">
        <StackPanel>
            <StackPanel Orientation="Horizontal"
                        Margin="5,5,5,10"
                        VerticalAlignment="Top">
                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                           Text="{Binding ActivityType, Converter={StaticResource enumLocaleConverter}}"
                           FontWeight="SemiBold"/>
                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                           Text="{DynamicResource templates_applicationName}"
                           FontWeight="SemiBold"
                           Margin="3,0,0,0"
                           Visibility="{Binding Details, Converter={StaticResource nullOrEmptyVisibilityConverter}}"/>
            </StackPanel>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid VerticalAlignment="Top">
                    <Border Width="60"
                            Height="60"
                            VerticalAlignment="Top"
                            CornerRadius="10"
                            Margin="5,0,10,0"
                            Background="{DynamicResource VisualTemplateIconBrush}">
                    </Border>
                    <Border Width="30"
                            Height="30"
                            VerticalAlignment="Bottom"
                            HorizontalAlignment="Right"
                            Margin="0,35,5,0"
                            Padding="2"
                            CornerRadius="15"
                            Background="{DynamicResource VisualTemplateColor}">
                        <Image RenderOptions.BitmapScalingMode="HighQuality" Source="/Resources/icons/csharp.png"/>
                    </Border>
                </Grid>
                <StackPanel Grid.Column="1"
                            VerticalAlignment="Center"
                            props:PanelChildrenProperties.Margin="0,3,0,0">
                    <TextBlock FontWeight="SemiBold"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Setter Property="Text" Value="{Binding Details}"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Details, Converter={StaticResource isStringEmptyConverter}}"
                                                 Value="True">
                                        <Setter Property="Text" Value="{DynamicResource templates_applicationName}"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <TextBlock Text="{Binding State}"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14"/>
                    <clib:TimeProgressBar Margin="0,5,0,0"
                                          Background="Transparent"
                                          Foreground="{DynamicResource BaseTextColor}"
                                          FontSize="15"
                                          ProgressBarBackground="{DynamicResource ProgressBarBackground}"
                                          ProgressBarForeground="{DynamicResource ProgressBarColor}"
                                          ProgressBarBorderThickness="0"
                                          ProgressBarCornerRadius="2"
                                          ProgressBarHeight="2">
                        <clib:TimeProgressBar.TimeContext>
                            <MultiBinding Converter="{StaticResource multiTimeBarContextConverter}">
                                <Binding Path="StartTimestamp"/>
                                <Binding Path="EndTimestamp"/>
                            </MultiBinding>
                        </clib:TimeProgressBar.TimeContext>
                    </clib:TimeProgressBar>
                </StackPanel>
            </Grid>
        </StackPanel>
    </DataTemplate>
    <DataTemplate x:Key="activity_competing_template">
        <StackPanel>
            <StackPanel Orientation="Horizontal"
                        Margin="5,5,5,10"
                        VerticalAlignment="Top">
                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                           Text="{Binding ActivityType, Converter={StaticResource enumLocaleConverter}}"
                           FontWeight="SemiBold"/>
                <TextBlock Foreground="{DynamicResource BaseTextColor}"
                           Text="{DynamicResource templates_applicationName}"
                           FontWeight="SemiBold"
                           Margin="3,0,0,0"
                           Visibility="{Binding Details, Converter={StaticResource nullOrEmptyVisibilityConverter}}"/>
            </StackPanel>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid VerticalAlignment="Top">
                    <Border Width="60"
                            Height="60"
                            VerticalAlignment="Top"
                            CornerRadius="10"
                            Margin="5,0,10,0"
                            Background="{DynamicResource VisualTemplateIconBrush}">
                    </Border>
                    <Border Width="30"
                            Height="30"
                            VerticalAlignment="Bottom"
                            HorizontalAlignment="Right"
                            Margin="0,35,5,0"
                            Padding="2"
                            CornerRadius="15"
                            Background="{DynamicResource VisualTemplateColor}">
                        <Image RenderOptions.BitmapScalingMode="HighQuality" Source="/Resources/icons/csharp.png"/>
                    </Border>
                </Grid>
                <StackPanel Grid.Column="1"
                            VerticalAlignment="Center"
                            props:PanelChildrenProperties.Margin="0,3,0,0">
                    <TextBlock FontWeight="SemiBold"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="15">
                        <TextBlock.Style>
                            <Style TargetType="{x:Type TextBlock}">
                                <Setter Property="Text" Value="{Binding Details}"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Details, Converter={StaticResource isStringEmptyConverter}}"
                                                 Value="True">
                                        <Setter Property="Text" Value="{DynamicResource templates_applicationName}"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                    <TextBlock Text="{Binding State}"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14"/>
                    <TextBlock Text="{Binding LargeImageText}"
                               TextTrimming="CharacterEllipsis"
                               HorizontalAlignment="Left"
                               Visibility="{Binding RelativeSource={RelativeSource Self}, Path=Text, Converter={StaticResource nullOrEmptyVisibilityConverter}}"
                               Padding="0"
                               VerticalAlignment="Top"
                               Foreground="{DynamicResource BaseTextColor}"
                               FontSize="14"/>
                    <StackPanel Orientation="Horizontal"
                                Margin="0,5,0,0">
                        <Image Source="{StaticResource playing}"
                               Height="10"
                               Visibility="{Binding ElementName=interval, Path=Content, Converter={StaticResource nullOrEmptyVisibilityConverter}}"/>
                        <Label Content="{Binding StartTimestamp, Converter={StaticResource timeSpanConverter}}"
                               x:Name="interval"
                               Foreground="#51a764"
                               FontSize="14"
                               Margin="5,0,0,0"
                               FontWeight="SemiBold"
                               Padding="0"/>
                    </StackPanel>
                </StackPanel>
            </Grid>
        </StackPanel>
    </DataTemplate>    
</ResourceDictionary>